{
  "name": "My workflow 2",
  "nodes": [
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are a helpful assistant\n\nThe Current Date is : {{ $now }}\n\nAppend all the created events one by one to the google sheets autometically right after creating every event\n\nTask:\nWhenever a chat event is created, automatically send an email using the Google Gmail API or Tool.\nThe email should include:\n\nA header image sourced from:\nhttps://drive.google.com/file/d/1RPySzAK6nTgT1oHCX0kyPLCxDGaPYitx/view?usp=share_link\n\nA summary of the conversation in:\n\nA short summary sentence, followed by\n\nA bullet-point list of key messages (from user & assistant).\n\nThe same content format should also appear in the chatbox UI after event creation.\n\nThe email should be structured in clean HTML format ready to be used with the Gmail API.\n\nwhen the request for the retrieving the event schedules use calender and google sheets tool to retrieve the all events data and display it in the format of list followed by Event Name , Due Date , Discription one by one"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        208,
        0
      ],
      "id": "04575514-55dd-476e-946d-c487da8747f8",
      "name": "AI Agent"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        224,
        208
      ],
      "id": "cc591487-0874-4045-a3c8-0f6a123e2617",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "prajwal.papa4@gmail.com",
          "mode": "list",
          "cachedResultName": "prajwal.papa4@gmail.com"
        },
        "start": "={{ $fromAI(\"startTime\",\"This is the startTime of the event\") }}",
        "end": "={{ $fromAI(\"endTime\",\"This is the endTime of the event\") }}",
        "additionalFields": {
          "summary": "={{ $fromAI(\"summary\",\"This is the summary/title of the event\") }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        288,
        352
      ],
      "id": "c09c1606-cc86-4744-af5d-ecbff7b8a028",
      "name": "Create an event in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "EiAe4yH1bLQlABPM",
          "name": "Google Calendar account 3"
        }
      }
    },
    {
      "parameters": {
        "public": true,
        "initialMessages": "Schedule Events \nFindout the Scheduled events\nManage the events just by 1 Chatbox\n\nPrompt example :create a event with Name \"Friends Trip\" on Sunday between 1pm-2pm with description :\"leaving to udhaajanaya\"",
        "options": {
          "showWelcomeScreen": true,
          "title": "Personal Event Management Ai Agent:",
          "customCss": ":root {\n  /* Base Monochrome Colors */\n  --chat--color-primary: #2c2c2c; /* Dark Gray */\n  --chat--color-primary-shade-50: #1f1f1f;\n  --chat--color-primary-shade-100: #141414;\n  --chat--color-secondary: #4d4d4d; /* Medium Gray */\n  --chat--color-secondary-shade-50: #3a3a3a;\n  --chat--color-white: #ffffff;\n  --chat--color-light: #f8f8f8;\n  --chat--color-light-shade-50: #e6e6e6;\n  --chat--color-light-shade-100: #cccccc;\n  --chat--color-medium: #b0b0b0;\n  --chat--color-dark: #000000;\n  --chat--color-disabled: #666666;\n  --chat--color-typing: #444444;\n\n  /* Base Layout */\n  --chat--spacing: 1rem;\n  --chat--border-radius: 0.25rem;\n  --chat--transition-duration: 0.15s;\n  --chat--font-family: (\n    -apple-system,\n    BlinkMacSystemFont,\n    'Segoe UI',\n    Roboto,\n    Oxygen-Sans,\n    Ubuntu,\n    Cantarell,\n    'Helvetica Neue',\n    sans-serif\n  );\n\n  /* Window Dimensions */\n  --chat--window--width: 400px;\n  --chat--window--height: 600px;\n  --chat--window--bottom: var(--chat--spacing);\n  --chat--window--right: var(--chat--spacing);\n  --chat--window--z-index: 9999;\n  --chat--window--border: 1px solid var(--chat--color-light-shade-50);\n  --chat--window--border-radius: var(--chat--border-radius);\n  --chat--window--margin-bottom: var(--chat--spacing);\n\n  /* Header Styles */\n  --chat--header-height: 10vh;\n  --chat--header--padding: var(--chat--spacing);\n  --chat--header--background: var(--chat--color-dark);\n  --chat--header--color: var(--chat--color-white);\n  --chat--header--border-top: none;\n  --chat--header--border-bottom: none;\n  --chat--header--border-left: none;\n  --chat--header--border-right: none;\n  --chat--heading--font-size: 1em;\n  --chat--subtitle--font-size: inherit;\n  --chat--subtitle--line-height: .5;\n\n  /* Message Styles */\n  --chat--message--font-size: 1rem;\n  --chat--message--padding: var(--chat--spacing);\n  --chat--message--border-radius: var(--chat--border-radius);\n  --chat--message-line-height: 1.5;\n  --chat--message--margin-bottom: calc(var(--chat--spacing) * 1);\n  --chat--message--bot--background: var(--chat--color-light);\n  --chat--message--bot--color: var(--chat--color-dark);\n  --chat--message--bot--border: none;\n  --chat--message--user--background: var(--chat--color-primary);\n  --chat--message--user--color: var(--chat--color-white);\n  --chat--message--user--border: none;\n  --chat--message--pre--background: rgba(0, 0, 0, 0.07);\n  --chat--messages-list--padding: var(--chat--spacing);\n\n  /* Toggle Button */\n  --chat--toggle--size: 64px;\n  --chat--toggle--width: var(--chat--toggle--size);\n  --chat--toggle--height: var(--chat--toggle--size);\n  --chat--toggle--border-radius: 50%;\n  --chat--toggle--background: var(--chat--color-primary);\n  --chat--toggle--hover--background: var(--chat--color-primary-shade-50);\n  --chat--toggle--active--background: var(--chat--color-primary-shade-100);\n  --chat--toggle--color: var(--chat--color-white);\n\n  /* Input Area */\n  --chat--textarea--height: 50px;\n  --chat--textarea--max-height: 30rem;\n  --chat--input--font-size: inherit;\n  --chat--input--border: 0;\n  --chat--input--border-radius: 0;\n  --chat--input--padding: 0.8rem;\n  --chat--input--background: var(--chat--color-white);\n  --chat--input--text-color: var(--chat--color-dark);\n  --chat--input--line-height: 1.5;\n  --chat--input--placeholder--font-size: var(--chat--input--font-size);\n  --chat--input--border-active: 0;\n  --chat--input--left--panel--width: 2rem;\n\n  /* Button Styles */\n  --chat--button--color: var(--chat--color-white);\n  --chat--button--background: var(--chat--color-primary);\n  --chat--button--padding: calc(var(--chat--spacing) * 1 / 2) var(--chat--spacing);\n  --chat--button--border-radius: var(--chat--border-radius);\n  --chat--button--hover--color: var(--chat--color-white);\n  --chat--button--hover--background: var(--chat--color-primary-shade-50);\n  --chat--close--button--color-hover: var(--chat--color-primary);\n\n  /* Send and File Buttons */\n  --chat--input--send--button--background: var(--chat--color-white);\n  --chat--input--send--button--color: var(--chat--color-dark);\n  --chat--input--send--button--background-hover: var(--chat--color-light-shade-50);\n  --chat--input--send--button--color-hover: var(--chat--color-dark);\n  --chat--input--file--button--background: var(--chat--color-white);\n  --chat--input--file--button--color: var(--chat--color-secondary);\n  --chat--input--file--button--background-hover: var(--chat--color-light-shade-50);\n  --chat--input--file--button--color-hover: var(--chat--color-secondary-shade-50);\n  --chat--files-spacing: 0.25rem;\n\n  /* Body and Footer */\n  --chat--body--background: var(--chat--color-light);\n  --chat--footer--background: var(--chat--color-light);\n  --chat--footer--color: var(--chat--color-dark);\n}\n\n/* Override example */\n.chat-message {\n  max-width: 90%;\n}\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        16,
        0
      ],
      "id": "453e1811-fa26-4aff-966a-30f993c8618e",
      "name": "When chat message received",
      "webhookId": "c82322f0-692f-4a1a-a7e8-4cb06a0eaebd"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1Qq645HS2T0P8xKEZzYgWi0lwA9XcCNkyLngChITKcpg",
          "mode": "list",
          "cachedResultName": "N8N TASK",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Qq645HS2T0P8xKEZzYgWi0lwA9XcCNkyLngChITKcpg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Qq645HS2T0P8xKEZzYgWi0lwA9XcCNkyLngChITKcpg/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Task Name": "={{ $fromAI('Task_Name', `This is the nemesis of task`, 'string') }}",
            "Description": "={{ $fromAI('Description', `This is the description of the task`, 'string') }}",
            "Due Date": "={{ $fromAI('Due_Date', `This is the due date of the task`, 'string') }}",
            "Priority": "={{ $fromAI('Priority', `This is the Priority of the task`, 'string') }}",
            "time": "={{ $fromAI('time', `This is the time of the task`, 'string') }}"
          },
          "matchingColumns": [
            "Task Name"
          ],
          "schema": [
            {
              "id": "Task Name",
              "displayName": "Task Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Description",
              "displayName": "Description",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Due Date",
              "displayName": "Due Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Priority",
              "displayName": "Priority",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "time",
              "displayName": "time",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        480,
        240
      ],
      "id": "c7c44b0d-1ea0-4787-bd1f-c05d47fb4cf9",
      "name": "Append or update row in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "3eizBYdNrmNuM5XL",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "prajwal.career@gmail.com",
          "mode": "list",
          "cachedResultName": "prajwal.career@gmail.com"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        592,
        352
      ],
      "id": "55480f9a-9479-4699-8f3b-6a494d175f5f",
      "name": "Get many events in Google Calendar1",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "sTVF29VHABQmVStH",
          "name": "Google Calendar account 2"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1Qq645HS2T0P8xKEZzYgWi0lwA9XcCNkyLngChITKcpg",
          "mode": "list",
          "cachedResultName": "N8N TASK",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Qq645HS2T0P8xKEZzYgWi0lwA9XcCNkyLngChITKcpg/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Qq645HS2T0P8xKEZzYgWi0lwA9XcCNkyLngChITKcpg/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Due Date",
              "lookupValue": "={{ $fromAI(\"DueDate\",\"the date and task that is based on.\") }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        656,
        240
      ],
      "id": "cc04b243-c9a5-4b3a-af4f-7c09bc638cb0",
      "name": "Get row(s) in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "3eizBYdNrmNuM5XL",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "prajwal.career@gmail.com",
        "subject": "=Personal Event Management : {{ $fromAI(\"eventName\",\"Name of The Event.\") }}",
        "message": "={{ $fromAI(\"Mail\",\"Generate the mail with 'Event Name','Date','Time','Event Calender Link' with a small Event Discription and end it with 'With Regards:Personal Event Managemnt'\",\n) }}\n",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        400,
        528
      ],
      "id": "e79f06cb-eacf-4062-ab15-b3c9d5fe334d",
      "name": "Send a message in Gmail",
      "webhookId": "25638c26-643d-40cd-a107-3c0971dbc5d2",
      "credentials": {
        "gmailOAuth2": {
          "id": "uco9T6l0BWj9i1CN",
          "name": "Gmail account 4"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        80,
        208
      ],
      "id": "00dc3036-c00f-4172-aa47-235d11e2237d",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "yb7CWaDrtnawlEHZ",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Create an event in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "Append or update row in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get many events in Google Calendar1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "ccb6f060-5bb1-455c-a55d-c38d49fe6916",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0ad84bf25a163d8c46ddd8488b39885ca4a150679ad7ea37e1adb6e9ce9fb96c"
  },
  "id": "W2xy2hT0t4xJiXNY",
  "tags": []
}